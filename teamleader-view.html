<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Team Leader Order View</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/@tailwindcss/ui@0.7.2/dist/tailwind-ui.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">


  <style>
  html, body {
  height: 100%;
  overflow: auto; /* ✅ allow scroll */
}


  body {
    display: flex;
  }

  .fade-in {
    animation: fadeIn 0.4s ease-in;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .sidebar {
    width: 260px;
    background: #1c1c1e;
    color: white;
    padding: 2rem 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    position: fixed;
    height: 100%;
    z-index: 10;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  }

  .sidebar h3 {
    font-size: 1.5rem;
    margin-bottom: 2rem;
  }

  .sidebar a {
    font-size: 1rem;
    color: white;
    text-decoration: none;
    padding: 8px 0;
    transition: all 0.2s ease;
  }

  .sidebar a:hover {
    color: #0a84ff;
  }

 .main-content {
  flex: 1;
  margin-left: 260px;
  padding: 2rem;
  overflow-x: hidden;
  background: #f2f2f7;
}


  h2 {
    font-size: 1.75rem;
    font-weight: 600;
    color: #0a84ff;
    margin-bottom: 1rem;
  }

  #statusMsg {
    font-size: 1rem;
    color: #444;
    margin-bottom: 1rem;
    text-align: center;
  }

  header {
    background: #fff;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    margin-bottom: 1.5rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  header button {
    padding: 8px 14px;
    border: none;
    border-radius: 8px;
    font-size: 0.95rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    transition: transform 0.2s ease, background 0.2s ease;
  }

  header button:hover {
    transform: scale(1.05);
  }

  .table-container {
  overflow-y: auto;
  overflow-x: auto;
  border-radius: 12px;
  background: white;
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  max-height: 70vh; /* required for scroll */
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  position: relative;
}



  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
    table-layout: fixed;
  }


  th, td {
    padding: 12px 14px;
    border: 1px solid #e5e5ea;
    text-align: left;
    word-wrap: break-word;
    white-space: normal;
  }

thead th {
  position: sticky;
  top: 0;
  background-color: #007aff;
  color: white;
  font-weight: 600;
  z-index: 10;
  padding: 12px 14px;
  text-align: left;
  user-select: none;
  border-bottom: 1px solid #ccc;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}



  tr:nth-child(even) {
    background-color: #f9f9f9;
  }

 

  th.resizable::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    width: 5px;
    height: 100%;
    cursor: col-resize;
    z-index: 2;
  }

  #customizePanel {
    display: none;
    background: white;
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border-radius: 12px;
    margin-bottom: 1.5rem;
    max-width: 100%;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 12px;
  }


.chart-slide-panel {
  transform: translateX(-100%);
  max-height: 0;
  overflow: hidden;
  transition: transform 0.5s ease, max-height 0.5s ease;
  will-change: transform, max-height;
}


.chart-slide-panel.visible {
  transform: translateX(0%);
  max-height: 2000px; /* ✅ INCREASED HEIGHT */
}






/* 🧠 Keep your original styles here first */

/* ✅ ADD: Responsive Sidebar & Header Layout */
@media (max-width: 768px) {
  .sidebar {
    position: absolute;
    width: 100%;
    height: auto;
    flex-direction: row;
    justify-content: space-around;
    padding: 1rem;
    top: 0;
    z-index: 99;
  }

  .main-content {
    margin-left: 0;
    padding-top: 6rem; /* pushes content below the mobile sidebar */
  }

  header {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }

  .table-container {
    max-height: 60vh; /* reduce on smaller screens */
  }
}

/* ✅ ADD: Mac-style scrollbars */
.table-container::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.table-container::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 10px;
}

/* ✅ ADD: Smooth sticky header shadow effect */
thead th {
  transition: box-shadow 0.3s ease;
}

.table-container:has(thead th.sticky) thead th {
  box-shadow: 0 4px 6px rgba(0,0,0,0.08);
}


#buyerFilterPanel {
  animation: fadeIn 0.3s ease-in;
}


///chart
options: {
  responsive: true,
  maintainAspectRatio: false,
  interaction: {
    mode: 'index',
    intersect: false
  },
  animation: {
    duration: 1000,
    easing: 'easeOutCubic'
  },
  scales: {
    x: {
      stacked: true,
      title: {
        display: true,
        text: 'Suppliers',
        font: { size: 14, weight: 'bold' }
      },
      ticks: {
        font: { size: 12 },
        color: '#333'
      }
    },
    y: {
      stacked: true,
      beginAtZero: true,
      title: {
        display: true,
        text: 'Number of Orders',
        font: { size: 14, weight: 'bold' }
      },
      ticks: {
        stepSize: 1,
        font: { size: 12 },
        color: '#333'
      }
    }
  },
  plugins: {
    legend: {
      position: 'bottom',
      labels: {
        font: { size: 13, family: 'Segoe UI, sans-serif' },
        boxWidth: 16,
        padding: 15
      }
    },
    tooltip: {
      backgroundColor: '#1c1c1e',
      titleFont: { size: 13 },
      bodyFont: { size: 13 },
      padding: 10,
      cornerRadius: 8,
      callbacks: {
        label: ctx => `${ctx.dataset.label}: ${ctx.parsed.y}`
      }
    }
  }
}





</style>

<!-- Sidebar -->
<aside class="sidebar">
  <h3>📊 Dashboard</h3>
  <a href="#">🏠 Home</a>
  <a href="#" onclick="showChartSection()">📈 Charts</a>
  <a href="#" onclick="generateStatusReport()">📄 Reports</a>

  <a href="#" onclick="showBuyerFilterPanel()">👥 Purchasers</a>
  <a href="#" onclick="logout()" class="text-red-400 hover:text-red-500">🚪 Logout</a>
</aside>

<!-- Page Content -->
<div class="main-content fade-in">
  <!-- Top Header -->
  <header>
    <h2>📋 Team Leader Control Panel</h2>
    <div class="flex gap-3">
      <button id="btnCustomize" class="bg-[#007aff] text-white">⚙️ Customize</button>
      <button onclick="refreshTable()" class="bg-[#34c759] text-white">🔄 Refresh</button>
      <button onclick="exportTableToCSV()" class="bg-[#ff9500] text-white">📤 Export CSV</button>
    </div>
  </header>

  <!-- Customize Panel -->
  <div id="customizePanel" class="hidden bg-white rounded-xl shadow-md p-6 mb-6 animate-fade-in-down">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-xl font-semibold text-gray-800 flex items-center gap-2">🛠️ Table Settings</h4>
    </div>
    <div id="customizeColumns" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
      <!-- JS will populate columns here -->
    </div>
  </div>




<div id="buyerFilterPanel" style="display: none; background:white; padding: 1rem; margin-bottom: 1rem; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.08);">
  <strong>Filter by Buyer:</strong>
  <div id="buyerCheckboxes" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 0.5rem;"></div>
</div>



<!-- Chart Slide Panel -->
<div id="chartSlidePanel"
     class="chart-slide-panel transform transition-transform duration-500 ease-in-out bg-gray-50 rounded-xl shadow-inner p-6">
  <div class="mb-6 flex justify-between items-center">
    <h4 class="text-xl font-semibold text-gray-800 tracking-tight">📊 Order Insights</h4>
  </div>

  <div class="flex flex-wrap justify-center gap-6">
    <!-- Pie Chart Card -->
    <div class="w-full xl:w-1/3 md:w-1/2" style="max-width: 550px; height: 400px;">
      <div class="bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 p-5 h-full">
        <h5 class="text-md font-semibold text-gray-700 mb-3">🧩 Orders by Main Category</h5>
        <div class="flex items-center justify-center h-full">
          <canvas id="categoryPieChart" style="min-height: 300px; min-width: 300px;"></canvas>
        </div>
      </div>
    </div>

    <!-- Line Chart Card -->
    <div class="w-full xl:w-1/3 md:w-1/2" style="max-width: 550px; height: 400px;">
      <div class="bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 p-5 h-full">
        <h5 class="text-md font-semibold text-gray-700 mb-3">📈 Orders Over Time</h5>
        <div class="flex items-center justify-center h-full">
          <canvas id="ordersLineChart" style="min-height: 300px; min-width: 300px;"></canvas>
        </div>
      </div>
    </div>


  <!-- Delivery Status per Supplier Card -->
<div class="w-full xl:w-1/3 md:w-full" style="max-width: 550px; height: 400px;">
  <div class="bg-white rounded-2xl shadow-md hover:shadow-lg transition-all duration-300 p-5 h-full flex flex-col justify-between">
    <!-- Header and Selectors -->
    <div class="mb-3">
      <h5 class="text-md font-semibold text-gray-700 mb-3">📦 Delivery Status per Supplier</h5>
      <div class="flex flex-wrap gap-2">
        <div class="flex items-center gap-2">
          <label for="supplierSelect" class="text-sm font-medium text-gray-600">Supplier:</label>
          <select id="supplierSelect"
                  class="text-sm border border-gray-300 rounded-xl px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="all">All Suppliers</option>
          </select>
        </div>
        <div class="flex items-center gap-2">
          <label for="sortSelect" class="text-sm font-medium text-gray-600">Sort:</label>
          <select id="sortSelect"
                  class="text-sm border border-gray-300 rounded-xl px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="alphabetical">Alphabetical (A-Z)</option>
            <option value="total">Total Orders (desc)</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Chart -->
    <div class="overflow-x-auto rounded-xl border border-gray-100 bg-gray-50 p-2">
      <div style="min-width: 400px; min-height: 280px;">
        <canvas id="supplierStatusChart" class="w-full" style="height: 280px !important;"></canvas>
      </div>
    </div>
  </div>
</div>


  </div>
</div>




<!-- Bigger Modal Loader -->
<div id="loaderModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.5); z-index: 9999; pointer-events: auto;">
  <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 80%; max-width: 600px; background: white; padding: 40px; border-radius: 16px;
    box-shadow: 0 6px 30px rgba(0, 0, 0, 0.25); text-align: center;">
    
    <div id="loaderLabel" style="margin-bottom: 20px; font-weight: bold; font-size: 1.8rem;">Sorting... 0%</div>
    
    <div style="width: 100%; background: #ddd; height: 30px; border-radius: 15px; overflow: hidden;">
      <div id="loaderBar" style="height: 100%; width: 0%; background: linear-gradient(to right, #007bff, #00d4ff); transition: width 0.1s;"></div>
    </div>
    
  </div>
</div>













<!-- Table Container -->
  <div class="table-container">
    <table id="ordersTable">
      <thead id="ordersHead">
        <tr><th>Loading...</th></tr>
      </thead>
      <tbody id="ordersBody">
        <tr><td>Loading orders...</td></tr>
      </tbody>
    </table>
  </div>



  <!-- Status Message -->
  <div id="statusMsg">🔐 Verifying user...</div>







  <!-- Footer -->
  <footer class="mt-8 text-center text-gray-400 text-sm">
    © 2025 Team Leader Dashboard. All rights reserved.
  </footer>
</div>




<!-- Reports Modal -->
<div id="reportModal" class="hidden fixed inset-0 z-50 bg-black bg-opacity-50 flex items-start justify-center overflow-y-auto pt-10 pb-10">
  <div class="bg-white rounded-lg shadow-lg w-full max-w-5xl flex flex-col p-6 relative">
    <button onclick="closeReportModal()" class="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-2xl">&times;</button>
    <h3 id="reportTitle" class="text-xl font-semibold mb-4">📊 Report</h3>

<div class="flex flex-wrap justify-between gap-3 mb-4">
  <!-- On Time -->
  <div class="status-btn bg-green-100 hover:bg-green-200 p-4 rounded cursor-pointer w-[calc(25%-0.75rem)] min-w-[200px]" data-status="On Time">
    <h4 class="text-lg font-semibold">🟢 On Time (<span id="onTimeCount">0</span>)</h4>
    <p class="text-sm text-gray-600">Orders delivered on or before target date</p>
  </div>

  <!-- Delayed -->
  <div class="status-btn bg-yellow-100 hover:bg-yellow-200 p-4 rounded cursor-pointer w-[calc(25%-0.75rem)] min-w-[200px]" data-status="Delayed">
    <h4 class="text-lg font-semibold">🟡 Delayed (<span id="delayedCount">0</span>)</h4>
    <p class="text-sm text-gray-600">Orders delivered after target date</p>
  </div>

  <!-- Invalid -->
  <div class="status-btn bg-red-100 hover:bg-red-200 p-4 rounded cursor-pointer w-[calc(25%-0.75rem)] min-w-[200px]" data-status="Invalid">
    <h4 class="text-lg font-semibold">🔴 Invalid (<span id="invalidCount">0</span>)</h4>
    <p class="text-sm text-gray-600">Orders with invalid or missing data</p>
  </div>

  <!-- In Progress -->
  <div class="status-btn bg-blue-100 hover:bg-blue-200 p-4 rounded cursor-pointer w-[calc(25%-0.75rem)] min-w-[200px]" data-status="In Progress">
    <h4 class="text-lg font-semibold">🔵 In Progress (<span id="inProgressCount">0</span>)</h4>
    <p class="text-sm text-gray-600">Orders not delivered and overdue</p>
  </div>
</div>


    <!-- Table -->
    <div class="overflow-auto max-h-[60vh]">
      <table class="w-full text-sm text-left border">
        <thead class="bg-gray-100 sticky top-0">
          <tr>
            <th class="px-3 py-2 border">Order No</th>
	    <th class="px-3 py-2 border">Supplier</th>
            <th class="px-3 py-2 border">Delivery Date</th>
            <th class="px-3 py-2 border">Tentative Date</th>
            <th class="px-3 py-2 border">Approved Date</th>
            <th class="px-3 py-2 border">Remarks</th>
          </tr>
        </thead>
        <tbody id="delayedOrdersTableBody">
          <!-- JavaScript will populate this -->
        </tbody>
      </table>
    </div>
  </div>
</div>














<script>
  const _0x1a94c3=_0x164d;(function(_0x3b0a15,_0x4fd3bd){const _0x1201fc=_0x164d,_0x47c325=_0x3b0a15();while(!![]){try{const _0x10596d=parseInt(_0x1201fc(0x206))/0x1*(-parseInt(_0x1201fc(0x2d3))/0x2)+-parseInt(_0x1201fc(0x25d))/0x3*(parseInt(_0x1201fc(0x213))/0x4)+parseInt(_0x1201fc(0x296))/0x5+-parseInt(_0x1201fc(0x26a))/0x6*(-parseInt(_0x1201fc(0x1ee))/0x7)+-parseInt(_0x1201fc(0x202))/0x8*(-parseInt(_0x1201fc(0x28d))/0x9)+-parseInt(_0x1201fc(0x24d))/0xa*(parseInt(_0x1201fc(0x271))/0xb)+parseInt(_0x1201fc(0x256))/0xc*(parseInt(_0x1201fc(0x1e5))/0xd);if(_0x10596d===_0x4fd3bd)break;else _0x47c325['push'](_0x47c325['shift']());}catch(_0x3d1e98){_0x47c325['push'](_0x47c325['shift']());}}}(_0x5866,0x26b6d));const firebaseConfig={'apiKey':_0x1a94c3(0x2bb),'authDomain':_0x1a94c3(0x29f),'projectId':'order-monitoring-purchasing','storageBucket':_0x1a94c3(0x1fe),'messagingSenderId':_0x1a94c3(0x229),'appId':_0x1a94c3(0x23a)};firebase[_0x1a94c3(0x21d)](firebaseConfig);function _0x5866(){const _0x513f69=['#1c1c1e','sort','span','stringify','Error\x20loading\x20orders:','localeCompare','#ordersBody\x20tr','data','collection','20HWEKHQ','innerHTML','📊\x20','rgba(52,\x20211,\x20153,\x200.8)','⛔\x20Not\x20logged\x20in.','children','setData','grid','\x20orders','78120xYXEAq','rgba(250,\x20204,\x2021,\x200.8)','split','No\x20order\x20data\x20available.','orderDate','parsed','firestore','3SYegWD','Not\x20Delivered\x20(Overdue)','Sorting...\x20','auth','order','🟡\x20Delayed','tableColumnSettings','dataTransfer','bar','label','remarks','getTime','Orders:\x20','126600MgpPrG','autoFitBtn','reportTitle','#333','Invalid\x20(Delivery\x20before\x20Approval)','forEach','long','1280488vCTbOQ','checked','signOut','users','min','get','includes','rgba(248,\x20113,\x20113,\x200.8)','15px','userSelect','loaderModal','team\x20leader','trim','ring-offset-2','Need\x20By\x20Date','location','numeric','customizePanel','addEventListener','btnCustomize','dragstart','invalidCount','On\x20Time','onAuthStateChanged','role','Unknown','filter','buyerCheckboxes','18lOMLLl','display','keys','col','mousedown','marginRight','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20background:\x20#f2f2f7;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px\x2012px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20','onTimeOrders','333735HbDOqq','input','<option\x20value=\x22all\x22>All\x20Suppliers</option>','offsetWidth','Delayed','setItem','value','now','tentativeDate','order-monitoring-purchasing.firebaseapp.com','pageX','🔴\x20Invalid','Supplier','ordersLineChart','loaderBar','supplierStatusChart','🟢\x20On\x20Time','\x0a\x20\x20\x20\x20','❌\x20Error\x20saving\x20report:','destroy','insertBefore','div','dataset','delayedOrders','className','chartSlidePanel','\x20Orders','doc','bg-blue-500','userOrders','removeEventListener','Orders','reportModal','stopPropagation','getContext','<tr><td>No\x20orders\x20found</td></tr>','log','AIzaSyD9LCzMuEGIiRQrOVCgH6d-jxxJLZ0QBCk','innerText','inProgressCount','❌\x20Error\x20loading\x20orders.','remove','gap','round','categoryPieChart','toLocaleDateString','inProgressOrders','text/plain','short','push','total','hidden','max','block','change','all','bottom','mb-5\x20flex\x20items-center\x20gap-2\x20bg-[#d1d1d6]\x20hover:bg-[#c7c7cc]\x20text-[#1c1c1e]\x20px-4\x20py-2\x20rounded-lg\x20shadow-sm\x20transition-all\x20duration-200','Delivery\x20Date','Number\x20of\x20Orders','none','10vTSIJR','widths','createElement','en-US','✅\x20Reports\x20saved\x20to\x20Firestore.','a[onclick*=\x22showBuyerFilterPanel\x22]','buyer','table','#34d399','🚀\x20generateStatusReport\x20called','supplierSelect','bold','#0a84ff','isArray','Sorting...\x200%','403lkrAUJ','orders','<tr><th>No\x20Data</th></tr>','customizeColumns','teamMembers','click','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-3\x20py-1\x20border\x22>',',\x2070%,\x2060%)','pie','98TRDoTY','Suppliers','default','.buyer-cell','href','error','Order\x20Date','buyerFilterPanel','indexOf','gridTemplateColumns','latest','index','In\x20Progress','getElementById','option','.status-btn','order-monitoring-purchasing.appspot.com','Approved\x20Date','\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22buyer-filter\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20width:\x206px;\x0a\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20col-resize;\x0a\x20\x20\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20','887192naIzES','exists','classList','width','23137vVXXPH','ordersBody','userId','N/A','pointerEvents','Number','text-white','from','.buyer-filter','contains','supplier','then','tbody\x20tr','1114724PxuwIt','Month','ring','delayedCount','delayedOrdersTableBody','textContent','cssText','appendChild','querySelector','orderNo','initializeApp','🔵\x20In\x20Progress','reports','supplierChartRendered','rgba(10,132,255,0.1)','Invalid','approvedDate','ordersTable','latestOrderData','set','parse','style','209378598320','dragover','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-3\x20py-1\x20border\x20text-red-600\x22>','mouseup','map','add','🧩\x20<span\x20class=\x22font-medium\x22>Auto\x20Fit\x20Column\x20Widths</span>\x20<kbd\x20class=\x22ml-auto\x20bg-white\x20border\x20border-gray-300\x20px-2\x20py-0.5\x20rounded\x20text-xs\x20text-gray-600\x22>Shortcut</kbd>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-3\x20py-1\x20border\x22>','length','onTimeCount','invalidOrders','mousemove','easeOutCubic','repeat(auto-fill,\x20minmax(180px,\x201fr))','preventDefault','❌\x20reportLink\x20not\x20found\x20in\x20DOM','querySelectorAll','1:209378598320:web:0c143d69bc329a994d8a75','values','onclick','sortSelect','target','splice','#f87171','toLocaleString','visible','\x22\x20checked\x20/>\x0a\x20\x20\x20\x20\x20\x20'];_0x5866=function(){return _0x513f69;};return _0x5866();}function _0x164d(_0x1fa9d1,_0x26fc33){const _0x58669b=_0x5866();return _0x164d=function(_0x164d4b,_0x3d3b57){_0x164d4b=_0x164d4b-0x1e0;let _0x245214=_0x58669b[_0x164d4b];return _0x245214;},_0x164d(_0x1fa9d1,_0x26fc33);}const auth=firebase[_0x1a94c3(0x260)](),db=firebase[_0x1a94c3(0x25c)]();let columnSettings={'visible':[],'order':[],'widths':{}},chartPanelVisible=![],ordersChartInstance=null,categoryChartInstance=null,supplierStatusChartInstance=null,chartsRendered=![];window[_0x1a94c3(0x220)]=![];function loadColumnSettings(_0x5af7d9){const _0x22340b=_0x1a94c3,_0xc63d35=JSON[_0x22340b(0x227)](localStorage['getItem']('tableColumnSettings'));_0xc63d35&&Array[_0x22340b(0x1e3)](_0xc63d35[_0x22340b(0x261)])&&Array[_0x22340b(0x1e3)](_0xc63d35[_0x22340b(0x242)])?columnSettings={'visible':_0xc63d35[_0x22340b(0x242)],'order':_0xc63d35[_0x22340b(0x261)],'widths':_0xc63d35[_0x22340b(0x2d4)]||{}}:columnSettings={'visible':[..._0x5af7d9],'order':[..._0x5af7d9],'widths':{}};}function showBuyerFilterPanel(){const _0x5a9a4e=_0x1a94c3,_0x4eedc0=document[_0x5a9a4e(0x1fb)]('buyerFilterPanel');_0x4eedc0['style'][_0x5a9a4e(0x28e)]=_0x4eedc0[_0x5a9a4e(0x228)][_0x5a9a4e(0x28e)]===_0x5a9a4e(0x2d2)||_0x4eedc0[_0x5a9a4e(0x228)][_0x5a9a4e(0x28e)]===''?_0x5a9a4e(0x2cb):_0x5a9a4e(0x2d2);}function formatDateDisplay(_0x3b5b4){const _0x336741=_0x1a94c3,_0x59eccd=new Date(_0x3b5b4);if(isNaN(_0x59eccd[_0x336741(0x268)]()))return'';return _0x59eccd[_0x336741(0x2c3)](_0x336741(0x2d6),{'year':_0x336741(0x281),'month':_0x336741(0x270),'day':_0x336741(0x281)});}function showChartSection(){const _0x5126a8=_0x1a94c3,_0x4319dc=document[_0x5126a8(0x1fb)](_0x5126a8(0x2af));chartPanelVisible=!chartPanelVisible,chartPanelVisible?(_0x4319dc['classList'][_0x5126a8(0x22e)]('visible'),!chartsRendered&&window['latestOrderData']&&(renderOrdersChart(window[_0x5126a8(0x225)]),renderCategoryPieChart(window[_0x5126a8(0x225)]),chartsRendered=!![])):_0x4319dc[_0x5126a8(0x204)]['remove'](_0x5126a8(0x242));}function renderOrdersChart(_0x245898){const _0x1a3a1e=_0x1a94c3,_0x92c1e3=document[_0x1a3a1e(0x1fb)](_0x1a3a1e(0x2a3))['getContext']('2d');if(ordersChartInstance)ordersChartInstance[_0x1a3a1e(0x2a9)]();const _0x262838={};_0x245898[_0x1a3a1e(0x26f)](_0x5b7626=>{const _0x71c630=_0x1a3a1e,_0x55f565=new Date(_0x5b7626[_0x71c630(0x25a)]||_0x5b7626[_0x71c630(0x261)]?.[_0x71c630(0x1f4)]);if(!isNaN(_0x55f565)){const _0x3f8978=_0x55f565[_0x71c630(0x241)](_0x71c630(0x1f0),{'month':_0x71c630(0x2c6),'year':_0x71c630(0x281)});_0x262838[_0x3f8978]=(_0x262838[_0x3f8978]||0x0)+0x1;}});const _0xcd7a35=Object[_0x1a3a1e(0x28f)](_0x262838),_0x297bec=Object[_0x1a3a1e(0x23b)](_0x262838);ordersChartInstance=new Chart(_0x92c1e3,{'type':'line','data':{'labels':_0xcd7a35,'datasets':[{'label':_0x1a3a1e(0x2b5),'data':_0x297bec,'borderColor':_0x1a3a1e(0x1e2),'backgroundColor':_0x1a3a1e(0x221),'tension':0.3,'fill':!![],'pointRadius':0x5,'pointBackgroundColor':_0x1a3a1e(0x1e2)}]},'options':{'responsive':!![],'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'label':_0x3c9433=>_0x1a3a1e(0x269)+_0x3c9433[_0x1a3a1e(0x25b)]['y']}}},'scales':{'x':{'title':{'display':!![],'text':_0x1a3a1e(0x214)}},'y':{'beginAtZero':!![],'title':{'display':!![],'text':_0x1a3a1e(0x2d1)}}}}});}function renderCategoryPieChart(_0x3455ae){const _0x3b6159=_0x1a94c3,_0x123b34=document['getElementById'](_0x3b6159(0x2c2))[_0x3b6159(0x2b8)]('2d');if(categoryChartInstance)categoryChartInstance['destroy']();const _0x32def0={};_0x3455ae[_0x3b6159(0x26f)](_0x26a49e=>{const _0x502460=_0x3b6159,_0x66e734=_0x26a49e[_0x502460(0x261)]?.['Category']||'',_0x17af71=_0x66e734[_0x502460(0x258)]('.')[0x0][_0x502460(0x27d)]()['toUpperCase']();_0x17af71&&(_0x32def0[_0x17af71]=(_0x32def0[_0x17af71]||0x0)+0x1);});const _0x126875=Object[_0x3b6159(0x28f)](_0x32def0),_0x5020d0=Object[_0x3b6159(0x23b)](_0x32def0),_0x5677be=_0x126875[_0x3b6159(0x22d)]((_0x522758,_0x527de4)=>'hsl('+_0x527de4*137.5%0x168+_0x3b6159(0x1ec));categoryChartInstance=new Chart(_0x123b34,{'type':_0x3b6159(0x1ed),'data':{'labels':_0x126875,'datasets':[{'data':_0x5020d0,'backgroundColor':_0x5677be}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':_0x46c1b8=>_0x46c1b8[_0x3b6159(0x266)]+':\x20'+_0x46c1b8[_0x3b6159(0x25b)]+_0x3b6159(0x255)}}}}});}function renderSupplierStatusChart(){const _0x4c1831=_0x1a94c3;if(!window[_0x4c1831(0x225)])return;const _0x14fc04={};window[_0x4c1831(0x225)][_0x4c1831(0x26f)](_0x5a2d76=>{const _0x4ccaf7=_0x4c1831,_0x58d4ed=_0x5a2d76['order']?.[_0x4ccaf7(0x2a2)]||_0x4ccaf7(0x28a);!_0x14fc04[_0x58d4ed]&&(_0x14fc04[_0x58d4ed]={'On\x20Time':0x0,'Delayed':0x0,'Invalid':0x0,'In\x20Progress':0x0});}),window[_0x4c1831(0x295)]['forEach'](_0xf89ae=>_0x14fc04[_0xf89ae[_0x4c1831(0x210)]][_0x4c1831(0x287)]++),window[_0x4c1831(0x2ad)][_0x4c1831(0x26f)](_0x218920=>_0x14fc04[_0x218920['supplier']][_0x4c1831(0x29a)]++),window['invalidOrders'][_0x4c1831(0x26f)](_0x5aaef4=>_0x14fc04[_0x5aaef4[_0x4c1831(0x210)]][_0x4c1831(0x222)]++),window[_0x4c1831(0x2c4)]['forEach'](_0x1fc6b7=>_0x14fc04[_0x1fc6b7['supplier']][_0x4c1831(0x1fa)]++);const _0x574a84=Object['keys'](_0x14fc04),_0x5c9357=_0x574a84[_0x4c1831(0x22d)](_0x235c3d=>_0x14fc04[_0x235c3d]['On\x20Time']),_0x14cb7c=_0x574a84[_0x4c1831(0x22d)](_0x269bc7=>_0x14fc04[_0x269bc7][_0x4c1831(0x29a)]),_0x29f863=_0x574a84[_0x4c1831(0x22d)](_0x5a9d58=>_0x14fc04[_0x5a9d58][_0x4c1831(0x222)]),_0x4bb853=_0x574a84['map'](_0xd0534f=>_0x14fc04[_0xd0534f][_0x4c1831(0x1fa)]),_0x466122=document[_0x4c1831(0x1fb)](_0x4c1831(0x2a5))[_0x4c1831(0x2b8)]('2d');if(supplierStatusChartInstance)supplierStatusChartInstance['destroy']();supplierStatusChartInstance=new Chart(_0x466122,{'type':_0x4c1831(0x265),'data':{'labels':_0x574a84,'datasets':[{'label':'🟢\x20On\x20Time','data':_0x5c9357,'backgroundColor':_0x4c1831(0x2db)},{'label':_0x4c1831(0x262),'data':_0x14cb7c,'backgroundColor':'#facc15'},{'label':_0x4c1831(0x2a1),'data':_0x29f863,'backgroundColor':_0x4c1831(0x240)},{'label':_0x4c1831(0x21e),'data':_0x4bb853,'backgroundColor':'#60a5fa'}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'x':{'stacked':!![],'title':{'display':!![],'text':_0x4c1831(0x1ef)}},'y':{'stacked':!![],'beginAtZero':!![],'title':{'display':!![],'text':_0x4c1831(0x2d1)}}},'plugins':{'legend':{'position':_0x4c1831(0x2ce)},'tooltip':{'callbacks':{'label':_0x58ea6a=>_0x58ea6a[_0x4c1831(0x2ac)]['label']+':\x20'+_0x58ea6a[_0x4c1831(0x25b)]['y']}}}}});}function populateSupplierDropdown(_0x1f4cc8){const _0x4ecd76=_0x1a94c3,_0x2867b7=document[_0x4ecd76(0x1fb)]('supplierSelect');_0x2867b7['innerHTML']=_0x4ecd76(0x298),_0x1f4cc8[_0x4ecd76(0x26f)](_0x49b8af=>{const _0x4762c1=_0x4ecd76,_0x15d602=document[_0x4762c1(0x2d5)](_0x4762c1(0x1fc));_0x15d602[_0x4762c1(0x29c)]=_0x49b8af,_0x15d602[_0x4762c1(0x218)]=_0x49b8af,_0x2867b7[_0x4762c1(0x21a)](_0x15d602);});}function getTotalOrdersForSupplier(_0xe120dd){const _0x5e681d=_0x1a94c3;return _0xe120dd[_0x5e681d(0x287)]+_0xe120dd['Delayed']+_0xe120dd[_0x5e681d(0x222)]+_0xe120dd['In\x20Progress'];}function updateSupplierStatusChart(_0x1e09d9=_0x1a94c3(0x2cd),_0x5f1f04='alphabetical'){const _0x11325a=_0x1a94c3;if(!window[_0x11325a(0x225)])return;const _0x36555d={};window['latestOrderData'][_0x11325a(0x26f)](_0x190fb5=>{const _0x3fba0f=_0x11325a,_0x1789ec=_0x190fb5[_0x3fba0f(0x261)]?.[_0x3fba0f(0x2a2)]||_0x3fba0f(0x28a);!_0x36555d[_0x1789ec]&&(_0x36555d[_0x1789ec]={'On\x20Time':0x0,'Delayed':0x0,'Invalid':0x0,'In\x20Progress':0x0});}),(window[_0x11325a(0x295)]||[])[_0x11325a(0x26f)](_0x178f92=>{const _0x424e32=_0x11325a;if(_0x36555d[_0x178f92[_0x424e32(0x210)]])_0x36555d[_0x178f92[_0x424e32(0x210)]]['On\x20Time']++;}),(window[_0x11325a(0x2ad)]||[])[_0x11325a(0x26f)](_0x54aed4=>{const _0x1b96e0=_0x11325a;if(_0x36555d[_0x54aed4[_0x1b96e0(0x210)]])_0x36555d[_0x54aed4['supplier']][_0x1b96e0(0x29a)]++;}),(window[_0x11325a(0x233)]||[])[_0x11325a(0x26f)](_0x2de020=>{const _0x3dcee6=_0x11325a;if(_0x36555d[_0x2de020[_0x3dcee6(0x210)]])_0x36555d[_0x2de020[_0x3dcee6(0x210)]][_0x3dcee6(0x222)]++;}),(window[_0x11325a(0x2c4)]||[])[_0x11325a(0x26f)](_0x370c24=>{const _0x33aeae=_0x11325a;if(_0x36555d[_0x370c24[_0x33aeae(0x210)]])_0x36555d[_0x370c24[_0x33aeae(0x210)]][_0x33aeae(0x1fa)]++;});let _0x8a8c9e=Object[_0x11325a(0x28f)](_0x36555d);_0x1e09d9!==_0x11325a(0x2cd)&&(_0x8a8c9e=_0x8a8c9e[_0x11325a(0x28b)](_0xd177a9=>_0xd177a9===_0x1e09d9));if(_0x5f1f04==='alphabetical')_0x8a8c9e['sort']((_0x4ed25a,_0x3ab392)=>_0x4ed25a[_0x11325a(0x249)](_0x3ab392));else _0x5f1f04===_0x11325a(0x2c8)&&_0x8a8c9e['sort']((_0x1a4b02,_0xc155b0)=>getTotalOrdersForSupplier(_0x36555d[_0xc155b0])-getTotalOrdersForSupplier(_0x36555d[_0x1a4b02]));const _0x4617e4=_0x8a8c9e['map'](_0x3a09c4=>_0x36555d[_0x3a09c4]['On\x20Time']),_0x154271=_0x8a8c9e[_0x11325a(0x22d)](_0x39804b=>_0x36555d[_0x39804b][_0x11325a(0x29a)]),_0x5f49a5=_0x8a8c9e[_0x11325a(0x22d)](_0x45d811=>_0x36555d[_0x45d811][_0x11325a(0x222)]),_0x476303=_0x8a8c9e[_0x11325a(0x22d)](_0x1ab7a4=>_0x36555d[_0x1ab7a4][_0x11325a(0x1fa)]),_0x4f8ab2=document[_0x11325a(0x1fb)](_0x11325a(0x2a5))[_0x11325a(0x2b8)]('2d');if(supplierStatusChartInstance)supplierStatusChartInstance[_0x11325a(0x2a9)]();supplierStatusChartInstance=new Chart(_0x4f8ab2,{'type':'bar','data':{'labels':_0x8a8c9e,'datasets':[{'label':_0x11325a(0x2a6),'data':_0x4617e4,'backgroundColor':_0x11325a(0x250),'borderRadius':0x5},{'label':'🟡\x20Delayed','data':_0x154271,'backgroundColor':_0x11325a(0x257),'borderRadius':0x5},{'label':_0x11325a(0x2a1),'data':_0x5f49a5,'backgroundColor':_0x11325a(0x278),'borderRadius':0x5},{'label':_0x11325a(0x21e),'data':_0x476303,'backgroundColor':'rgba(96,\x20165,\x20250,\x200.8)','borderRadius':0x5}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'x':{'stacked':!![],'title':{'display':!![],'text':_0x11325a(0x1ef),'font':{'size':0xe,'weight':_0x11325a(0x1e1)}},'ticks':{'font':{'size':0xc},'color':_0x11325a(0x26d)}},'y':{'stacked':!![],'beginAtZero':!![],'title':{'display':!![],'text':_0x11325a(0x2d1),'font':{'size':0xe,'weight':_0x11325a(0x1e1)}},'ticks':{'stepSize':0x1,'font':{'size':0xc},'color':_0x11325a(0x26d)}}},'plugins':{'legend':{'position':_0x11325a(0x2ce),'labels':{'font':{'size':0xd},'boxWidth':0x10,'padding':0xf}},'tooltip':{'backgroundColor':_0x11325a(0x244),'titleFont':{'size':0xd},'bodyFont':{'size':0xd},'padding':0xa,'cornerRadius':0x8,'callbacks':{'label':_0x1056fb=>_0x1056fb[_0x11325a(0x2ac)]['label']+':\x20'+_0x1056fb[_0x11325a(0x25b)]['y']}}},'animation':{'duration':0x320,'easing':_0x11325a(0x235)},'interaction':{'mode':_0x11325a(0x1f9),'intersect':![]}}});}function initSupplierChartControls(){const _0x588e8f=_0x1a94c3;if(!window[_0x588e8f(0x225)])return;const _0x6303a5={};window[_0x588e8f(0x225)][_0x588e8f(0x26f)](_0x316cf8=>{const _0x4ac554=_0x588e8f,_0x3aa902=_0x316cf8[_0x4ac554(0x261)]?.[_0x4ac554(0x2a2)]||_0x4ac554(0x28a);_0x6303a5[_0x3aa902]=!![];});const _0x21578e=Object[_0x588e8f(0x28f)](_0x6303a5)[_0x588e8f(0x245)]();populateSupplierDropdown(_0x21578e),!window[_0x588e8f(0x220)]&&(updateSupplierStatusChart(),window[_0x588e8f(0x220)]=!![]),document[_0x588e8f(0x1fb)](_0x588e8f(0x1e0))['addEventListener'](_0x588e8f(0x2cc),_0xcbc0af=>{const _0x31754f=_0x588e8f,_0x54f548=_0xcbc0af[_0x31754f(0x23e)]['value'],_0x36735a=document[_0x31754f(0x1fb)](_0x31754f(0x23d))['value'];updateSupplierStatusChart(_0x54f548,_0x36735a);}),document[_0x588e8f(0x1fb)](_0x588e8f(0x23d))[_0x588e8f(0x283)](_0x588e8f(0x2cc),_0x3cc4ff=>{const _0x44ceaf=_0x588e8f,_0x255e9b=_0x3cc4ff['target']['value'],_0x383dd8=document[_0x44ceaf(0x1fb)](_0x44ceaf(0x1e0))['value'];updateSupplierStatusChart(_0x383dd8,_0x255e9b);});}document[_0x1a94c3(0x283)]('DOMContentLoaded',async()=>{await fetchAndPrepareOrderData(),initSupplierChartControls();});function saveColumnSettings(){const _0x23b8e1=_0x1a94c3;localStorage[_0x23b8e1(0x29b)](_0x23b8e1(0x263),JSON[_0x23b8e1(0x247)](columnSettings));}function fixTableColumnWidths(){const _0x322ebf=_0x1a94c3,_0xff154=document[_0x322ebf(0x1fb)]('ordersHead'),_0xa99dd=document['getElementById']('ordersBody'),_0x37efff=_0xff154[_0x322ebf(0x21b)]('tr'),_0x4ef94d=Array[_0x322ebf(0x20d)](_0xa99dd[_0x322ebf(0x239)]('tr'));if(!_0x37efff)return;columnSettings['order']['forEach']((_0x1541a2,_0x509ae9)=>{const _0x35adb3=_0x322ebf;if(!columnSettings[_0x35adb3(0x242)][_0x35adb3(0x277)](_0x1541a2))return;let _0x2457f0=0x0;const _0x33456d=_0x37efff[_0x35adb3(0x252)][_0x509ae9];if(_0x33456d)_0x2457f0=Math[_0x35adb3(0x2ca)](_0x2457f0,_0x33456d[_0x35adb3(0x218)][_0x35adb3(0x27d)]()[_0x35adb3(0x231)]*0xa);_0x4ef94d[_0x35adb3(0x26f)](_0x8dcb60=>{const _0x637de8=_0x35adb3,_0x1cdd6f=_0x8dcb60[_0x637de8(0x252)][_0x509ae9];if(_0x1cdd6f)_0x2457f0=Math[_0x637de8(0x2ca)](_0x2457f0,_0x1cdd6f[_0x637de8(0x218)][_0x637de8(0x27d)]()['length']*0x9);}),_0x2457f0=Math[_0x35adb3(0x2ca)](0x50,Math[_0x35adb3(0x275)](_0x2457f0,0x12c));if(_0x37efff[_0x35adb3(0x252)][_0x509ae9])_0x37efff[_0x35adb3(0x252)][_0x509ae9][_0x35adb3(0x228)]['width']=_0x2457f0+'px';_0x4ef94d[_0x35adb3(0x26f)](_0x5988f1=>{const _0x2032c9=_0x35adb3;if(_0x5988f1[_0x2032c9(0x252)][_0x509ae9])_0x5988f1['children'][_0x509ae9][_0x2032c9(0x228)]['width']=_0x2457f0+'px';}),columnSettings[_0x35adb3(0x2d4)][_0x1541a2]=_0x2457f0;}),saveColumnSettings();}function buildTable(_0x3676ce){const _0x4688f5=_0x1a94c3,_0x1bc00e=document[_0x4688f5(0x1fb)]('ordersHead'),_0x36e198=document[_0x4688f5(0x1fb)](_0x4688f5(0x207));_0x1bc00e['innerHTML']='',_0x36e198['innerHTML']='';if(!_0x3676ce[_0x4688f5(0x231)]){_0x1bc00e[_0x4688f5(0x24e)]=_0x4688f5(0x1e7),_0x36e198[_0x4688f5(0x24e)]=_0x4688f5(0x2b9);return;}const _0x239903=new Set(['userId']);_0x3676ce[_0x4688f5(0x26f)](_0x4c44a6=>Object[_0x4688f5(0x28f)](_0x4c44a6[_0x4688f5(0x261)])[_0x4688f5(0x26f)](_0x2ecf68=>_0x239903[_0x4688f5(0x22e)](_0x2ecf68)));const _0x50b04c=Array[_0x4688f5(0x20d)](_0x239903);loadColumnSettings(_0x50b04c);const _0x3eb252=document[_0x4688f5(0x1fb)](_0x4688f5(0x282)),_0xa5cd1d=document[_0x4688f5(0x1fb)](_0x4688f5(0x1e8));_0xa5cd1d[_0x4688f5(0x24e)]='';let _0x5efad1=document['getElementById'](_0x4688f5(0x26b));if(_0x5efad1)_0x5efad1[_0x4688f5(0x2bf)]();const _0x5b36fc=document[_0x4688f5(0x2d5)]('button');_0x5b36fc['id']=_0x4688f5(0x26b),_0x5b36fc[_0x4688f5(0x2ae)]=_0x4688f5(0x2cf),_0x5b36fc['innerHTML']=_0x4688f5(0x22f),_0x5b36fc[_0x4688f5(0x23c)]=fixTableColumnWidths,_0x3eb252[_0x4688f5(0x2aa)](_0x5b36fc,_0xa5cd1d),_0xa5cd1d[_0x4688f5(0x228)]['display']=_0x4688f5(0x254),_0xa5cd1d[_0x4688f5(0x228)][_0x4688f5(0x1f7)]=_0x4688f5(0x236),_0xa5cd1d['style'][_0x4688f5(0x2c0)]='12px',columnSettings[_0x4688f5(0x261)]['forEach'](_0x1568e4=>{const _0x47642f=_0x4688f5,_0x525bc8=document[_0x47642f(0x2d5)](_0x47642f(0x266));_0x525bc8[_0x47642f(0x228)][_0x47642f(0x219)]=_0x47642f(0x294);const _0xf47d2c=document['createElement'](_0x47642f(0x297));_0xf47d2c['type']='checkbox',_0xf47d2c[_0x47642f(0x272)]=columnSettings['visible'][_0x47642f(0x277)](_0x1568e4),_0xf47d2c[_0x47642f(0x2ac)][_0x47642f(0x290)]=_0x1568e4,_0xf47d2c[_0x47642f(0x283)](_0x47642f(0x2cc),()=>{const _0x4205c3=_0x47642f,_0x2156b8=_0xf47d2c['dataset']['col'];_0xf47d2c['checked']?!columnSettings[_0x4205c3(0x242)][_0x4205c3(0x277)](_0x2156b8)&&columnSettings[_0x4205c3(0x242)][_0x4205c3(0x2c7)](_0x2156b8):columnSettings[_0x4205c3(0x242)]=columnSettings[_0x4205c3(0x242)][_0x4205c3(0x28b)](_0x3c3e03=>_0x3c3e03!==_0x2156b8),saveColumnSettings(),buildTable(_0x3676ce);});const _0xbaa635=document[_0x47642f(0x2d5)](_0x47642f(0x246));_0xbaa635[_0x47642f(0x218)]=_0x1568e4,_0x525bc8[_0x47642f(0x21a)](_0xf47d2c),_0x525bc8[_0x47642f(0x21a)](_0xbaa635),_0xa5cd1d[_0x47642f(0x21a)](_0x525bc8);});const _0x5ae703=document[_0x4688f5(0x2d5)]('tr');columnSettings[_0x4688f5(0x261)][_0x4688f5(0x26f)](_0x6e5969=>{const _0x4d105f=_0x4688f5;if(!columnSettings['visible'][_0x4d105f(0x277)](_0x6e5969))return;const _0x2c75af=document['createElement']('th');_0x2c75af['classList'][_0x4d105f(0x22e)]('resizable'),_0x2c75af['dataset'][_0x4d105f(0x290)]=_0x6e5969,_0x2c75af[_0x4d105f(0x228)][_0x4d105f(0x27a)]=_0x4d105f(0x2d2),_0x2c75af[_0x4d105f(0x228)][_0x4d105f(0x27a)]='none';columnSettings[_0x4d105f(0x2d4)][_0x6e5969]&&(_0x2c75af['style'][_0x4d105f(0x205)]=columnSettings[_0x4d105f(0x2d4)][_0x6e5969]+'px');const _0x3067e6=document['createElement']('span');_0x3067e6[_0x4d105f(0x218)]=_0x6e5969,_0x3067e6[_0x4d105f(0x228)][_0x4d105f(0x20a)]=_0x4d105f(0x2d2),_0x2c75af[_0x4d105f(0x21a)](_0x3067e6);const _0x11fbee=document[_0x4d105f(0x2d5)](_0x4d105f(0x2ab));_0x11fbee[_0x4d105f(0x228)][_0x4d105f(0x219)]=_0x4d105f(0x201);let _0x13da34=![];_0x11fbee['addEventListener'](_0x4d105f(0x291),_0x314ae4=>{const _0x5c3402=_0x4d105f;_0x314ae4[_0x5c3402(0x2b7)](),_0x13da34=!![];const _0x144887=_0x314ae4[_0x5c3402(0x2a0)],_0x3c79a8=_0x2c75af[_0x5c3402(0x299)],_0x3c279e=Array['from'](_0x5ae703[_0x5c3402(0x252)])[_0x5c3402(0x1f6)](_0x2c75af),_0x456590=_0x2c75af['dataset'][_0x5c3402(0x290)];function _0x138c43(_0x3b87a5){const _0x25b286=_0x5c3402,_0x5b4282=_0x3c79a8+(_0x3b87a5[_0x25b286(0x2a0)]-_0x144887);_0x1bc00e[_0x25b286(0x239)]('th')[_0x3c279e][_0x25b286(0x228)][_0x25b286(0x205)]=_0x5b4282+'px',_0x36e198[_0x25b286(0x239)]('tr')[_0x25b286(0x26f)](_0x53b28e=>{const _0x503aaa=_0x25b286;if(_0x53b28e[_0x503aaa(0x252)][_0x3c279e])_0x53b28e[_0x503aaa(0x252)][_0x3c279e]['style'][_0x503aaa(0x205)]=_0x5b4282+'px';});}function _0x3e1689(){const _0x25cd8c=_0x5c3402;_0x13da34=![];const _0x206f69=_0x1bc00e[_0x25cd8c(0x239)]('th')[_0x3c279e][_0x25cd8c(0x299)];columnSettings[_0x25cd8c(0x2d4)][_0x456590]=_0x206f69,saveColumnSettings(),document[_0x25cd8c(0x2b4)](_0x25cd8c(0x234),_0x138c43),document[_0x25cd8c(0x2b4)](_0x25cd8c(0x22c),_0x3e1689);}document[_0x5c3402(0x283)]('mousemove',_0x138c43),document['addEventListener'](_0x5c3402(0x22c),_0x3e1689);}),_0x2c75af[_0x4d105f(0x21a)](_0x11fbee),_0x2c75af['draggable']=!![],_0x2c75af[_0x4d105f(0x283)](_0x4d105f(0x285),_0xe6e13a=>{const _0x18b916=_0x4d105f;if(_0x13da34){_0xe6e13a[_0x18b916(0x237)]();return;}_0xe6e13a[_0x18b916(0x264)][_0x18b916(0x253)]('text/plain',_0x6e5969);}),_0x2c75af[_0x4d105f(0x283)](_0x4d105f(0x22a),_0x236380=>_0x236380[_0x4d105f(0x237)]()),_0x2c75af[_0x4d105f(0x283)]('drop',_0x53c41d=>{const _0x569d01=_0x4d105f;_0x53c41d[_0x569d01(0x237)]();if(_0x13da34)return;const _0x46b1e6=_0x53c41d[_0x569d01(0x264)]['getData'](_0x569d01(0x2c5)),_0x554aba=_0x2c75af[_0x569d01(0x2ac)][_0x569d01(0x290)],_0x5c2439=columnSettings[_0x569d01(0x261)][_0x569d01(0x1f6)](_0x46b1e6),_0x2a1ec8=columnSettings[_0x569d01(0x261)][_0x569d01(0x1f6)](_0x554aba);columnSettings[_0x569d01(0x261)][_0x569d01(0x23f)](_0x5c2439,0x1),columnSettings['order'][_0x569d01(0x23f)](_0x2a1ec8,0x0,_0x46b1e6),saveColumnSettings(),buildTable(_0x3676ce);}),_0x5ae703['appendChild'](_0x2c75af);}),_0x1bc00e[_0x4688f5(0x21a)](_0x5ae703),_0x3676ce[_0x4688f5(0x26f)](_0x9b6076=>{const _0x255b62=_0x4688f5,_0x2b4132=document[_0x255b62(0x2d5)]('tr');columnSettings[_0x255b62(0x261)][_0x255b62(0x26f)](_0x2047c9=>{const _0x19b6f9=_0x255b62;if(!columnSettings['visible'][_0x19b6f9(0x277)](_0x2047c9))return;const _0x117451=document[_0x19b6f9(0x2d5)]('td');if(_0x2047c9===_0x19b6f9(0x208))_0x117451[_0x19b6f9(0x218)]=_0x9b6076[_0x19b6f9(0x208)];else[_0x19b6f9(0x2d0),_0x19b6f9(0x1f4),_0x19b6f9(0x1ff),_0x19b6f9(0x27f)][_0x19b6f9(0x277)](_0x2047c9)?_0x117451['textContent']=formatDateDisplay(_0x9b6076[_0x19b6f9(0x261)][_0x2047c9]):(_0x117451['textContent']=_0x9b6076['order'][_0x2047c9]??'',_0x2047c9['toLowerCase']()===_0x19b6f9(0x2d9)&&_0x117451[_0x19b6f9(0x204)][_0x19b6f9(0x22e)]('buyer-cell'));columnSettings[_0x19b6f9(0x2d4)][_0x2047c9]&&(_0x117451['style']['width']=columnSettings[_0x19b6f9(0x2d4)][_0x2047c9]+'px'),_0x2b4132['appendChild'](_0x117451);}),_0x36e198[_0x255b62(0x21a)](_0x2b4132);});}auth[_0x1a94c3(0x288)](async _0x5bc122=>{const _0xc98156=_0x1a94c3,_0x46199e=document[_0xc98156(0x1fb)]('statusMsg');if(!_0x5bc122){_0x46199e[_0xc98156(0x218)]=_0xc98156(0x251);return;}try{const _0xb803eb=await db[_0xc98156(0x24c)](_0xc98156(0x274))[_0xc98156(0x2b1)](_0x5bc122['uid'])[_0xc98156(0x276)](),_0x4f317d=_0xb803eb[_0xc98156(0x24b)]();if(!_0x4f317d||_0x4f317d[_0xc98156(0x289)]?.[_0xc98156(0x293)]()!==_0xc98156(0x27c)){_0x46199e[_0xc98156(0x218)]='⛔\x20Access\x20denied.\x20Only\x20Team\x20Leaders\x20allowed.';return;}const _0x1d7fbf=_0x4f317d[_0xc98156(0x1e9)]||[];if(_0x1d7fbf[_0xc98156(0x231)]===0x0){_0x46199e[_0xc98156(0x218)]='📝\x20No\x20users\x20assigned\x20to\x20you\x20yet.';return;}const _0xb8d77=[];for(const _0x51f448 of _0x1d7fbf){const _0x2b0566=await db[_0xc98156(0x24c)](_0xc98156(0x1e6))[_0xc98156(0x2b1)](_0x51f448)['collection'](_0xc98156(0x2b3))[_0xc98156(0x276)]();_0x2b0566[_0xc98156(0x26f)](_0x224bd7=>{const _0x542ef2=_0xc98156;_0xb8d77[_0x542ef2(0x2c7)]({'userId':_0x51f448,'order':_0x224bd7[_0x542ef2(0x24b)]()});});}document['getElementById'](_0xc98156(0x224))[_0xc98156(0x228)]['display']=_0xc98156(0x2da),_0x46199e[_0xc98156(0x228)][_0xc98156(0x28e)]=_0xc98156(0x2d2),buildTable(_0xb8d77),buildBuyerFilter(),window[_0xc98156(0x225)]=_0xb8d77,initSupplierChartControls(),!Object['keys'](columnSettings[_0xc98156(0x2d4)])[_0xc98156(0x231)]&&fixTableColumnWidths();}catch(_0x2b7c1a){console[_0xc98156(0x1f3)](_0xc98156(0x248),_0x2b7c1a),_0x46199e[_0xc98156(0x218)]=_0xc98156(0x2be);return;}}),document[_0x1a94c3(0x1fb)]('btnCustomize')[_0x1a94c3(0x283)](_0x1a94c3(0x1ea),()=>{const _0x1831d6=_0x1a94c3,_0x29bd3d=document['getElementById'](_0x1831d6(0x282));_0x29bd3d[_0x1831d6(0x228)]['display']=_0x29bd3d[_0x1831d6(0x228)][_0x1831d6(0x28e)]==='none'?'block':'none';}),document[_0x1a94c3(0x283)]('DOMContentLoaded',function(){const _0x54293d=_0x1a94c3,_0x588d08=document[_0x54293d(0x21b)]('table'),_0x24486b=Array[_0x54293d(0x20d)](_0x588d08['querySelectorAll'](_0x54293d(0x212))),_0x3f5ca3=new Set();_0x24486b[_0x54293d(0x26f)](_0x3caa2b=>{const _0xdc93d8=_0x54293d,_0x38a123=_0x3caa2b[_0xdc93d8(0x21b)](_0xdc93d8(0x1f1));if(_0x38a123)_0x3f5ca3[_0xdc93d8(0x22e)](_0x38a123[_0xdc93d8(0x2bc)][_0xdc93d8(0x27d)]());});const _0x23bc2e=Array[_0x54293d(0x20d)](_0x3f5ca3)[_0x54293d(0x245)](),_0x53feb1=document['getElementById'](_0x54293d(0x28c));_0x23bc2e[_0x54293d(0x26f)](_0x337341=>{const _0x5c2eee=_0x54293d,_0x57f795=document['createElement']('label');_0x57f795['style'][_0x5c2eee(0x292)]=_0x5c2eee(0x279),_0x57f795[_0x5c2eee(0x24e)]=_0x5c2eee(0x200)+_0x337341+_0x5c2eee(0x243)+_0x337341+_0x5c2eee(0x2a7),_0x53feb1[_0x5c2eee(0x21a)](_0x57f795);}),document[_0x54293d(0x239)](_0x54293d(0x20e))[_0x54293d(0x26f)](_0x4dc81c=>{const _0x3d546b=_0x54293d;_0x4dc81c[_0x3d546b(0x283)](_0x3d546b(0x2cc),_0x452ff9);});function _0x452ff9(){const _0xb0c45a=_0x54293d,_0x355a93=Array[_0xb0c45a(0x20d)](document['querySelectorAll']('.buyer-filter:checked'))[_0xb0c45a(0x22d)](_0x48ad00=>_0x48ad00[_0xb0c45a(0x29c)]);_0x24486b[_0xb0c45a(0x26f)](_0x41e1d5=>{const _0x2d900c=_0xb0c45a,_0x5eddc6=_0x41e1d5[_0x2d900c(0x21b)](_0x2d900c(0x1f1));if(_0x5eddc6){const _0x88742b=_0x5eddc6['innerText'][_0x2d900c(0x27d)]();_0x41e1d5[_0x2d900c(0x228)][_0x2d900c(0x28e)]=_0x355a93['includes'](_0x88742b)?'':'none';}});}});function buildBuyerFilter(){const _0x78a055=_0x1a94c3,_0x46ec7b=document['getElementById'](_0x78a055(0x28c));_0x46ec7b[_0x78a055(0x24e)]='';const _0x1e08e0=document[_0x78a055(0x239)](_0x78a055(0x24a)),_0x1da4e4=new Set();_0x1e08e0['forEach'](_0x50f45c=>{const _0x500ea7=_0x78a055,_0x566492=_0x50f45c[_0x500ea7(0x21b)](_0x500ea7(0x1f1));if(_0x566492)_0x1da4e4[_0x500ea7(0x22e)](_0x566492[_0x500ea7(0x2bc)][_0x500ea7(0x27d)]());});const _0x525390=Array['from'](_0x1da4e4)['sort']();_0x525390[_0x78a055(0x26f)](_0x584839=>{const _0x1e4763=_0x78a055,_0x9287de=document[_0x1e4763(0x2d5)](_0x1e4763(0x266));_0x9287de[_0x1e4763(0x228)][_0x1e4763(0x292)]=_0x1e4763(0x279),_0x9287de[_0x1e4763(0x24e)]=_0x1e4763(0x200)+_0x584839+'\x22\x20checked\x20/>\x0a\x20\x20\x20\x20\x20\x20'+_0x584839+'\x0a\x20\x20\x20\x20',_0x46ec7b[_0x1e4763(0x21a)](_0x9287de);});const _0x2ebc0e=_0x1366a(_0x2f6b68);document['querySelectorAll'](_0x78a055(0x20e))[_0x78a055(0x26f)](_0x54526f=>{const _0x3d001d=_0x78a055;_0x54526f['addEventListener'](_0x3d001d(0x2cc),_0x2ebc0e);});function _0x1366a(_0x110d91,_0x2a3d6b=0x96){let _0x16dc1f;return(..._0x257a9b)=>{clearTimeout(_0x16dc1f),_0x16dc1f=setTimeout(()=>_0x110d91['apply'](this,_0x257a9b),_0x2a3d6b);};}function _0x2f6b68(){const _0x46650e=_0x78a055,_0x39d716=Array[_0x46650e(0x20d)](document['querySelectorAll']('.buyer-filter:checked'))[_0x46650e(0x22d)](_0xe9d7d8=>_0xe9d7d8[_0x46650e(0x29c)]),_0x26c5a8=document['querySelectorAll']('#ordersBody\x20tr'),_0x4cd45d=document[_0x46650e(0x1fb)](_0x46650e(0x27b)),_0xf5c608=document[_0x46650e(0x1fb)](_0x46650e(0x2a4)),_0x23ba1e=document[_0x46650e(0x1fb)]('loaderLabel');_0x4cd45d[_0x46650e(0x228)]['display']='block',_0xf5c608[_0x46650e(0x228)][_0x46650e(0x205)]='0%',_0x23ba1e[_0x46650e(0x218)]=_0x46650e(0x1e4);let _0x162dd8=0x0;const _0x10c283=0x14,_0x2ac689=_0x26c5a8[_0x46650e(0x231)];function _0xb624ad(){const _0x13b82e=_0x46650e,_0x2c5e89=_0x162dd8,_0x35c64e=Math[_0x13b82e(0x275)](_0x162dd8+_0x10c283,_0x2ac689);for(let _0x37c93b=_0x2c5e89;_0x37c93b<_0x35c64e;_0x37c93b++){const _0x3371a6=_0x26c5a8[_0x37c93b],_0x39e72c=_0x3371a6[_0x13b82e(0x21b)](_0x13b82e(0x1f1));if(!_0x39e72c)continue;const _0x13af08=_0x39e72c[_0x13b82e(0x2bc)]['trim']();_0x3371a6[_0x13b82e(0x228)][_0x13b82e(0x28e)]=_0x39d716[_0x13b82e(0x277)](_0x13af08)?'':'none';}_0x162dd8=_0x35c64e;const _0x1febe6=Math[_0x13b82e(0x2c1)](_0x162dd8/_0x2ac689*0x64);_0xf5c608[_0x13b82e(0x228)][_0x13b82e(0x205)]=_0x1febe6+'%',_0x23ba1e[_0x13b82e(0x218)]=_0x13b82e(0x25f)+_0x1febe6+'%',_0x162dd8<_0x2ac689?requestAnimationFrame(_0xb624ad):setTimeout(()=>{const _0x5d5e9a=_0x13b82e;_0x4cd45d[_0x5d5e9a(0x228)]['display']='none',_0xf5c608[_0x5d5e9a(0x228)][_0x5d5e9a(0x205)]='0%';},0x12c);}requestAnimationFrame(_0xb624ad);}}document['addEventListener']('click',function(_0x5c1c3c){const _0x1a7af2=_0x1a94c3,_0x54577d=document[_0x1a7af2(0x1fb)](_0x1a7af2(0x1f5)),_0x228cb4=document['getElementById'](_0x1a7af2(0x282)),_0x4ed508=document[_0x1a7af2(0x21b)](_0x1a7af2(0x2d8)),_0x479a62=document[_0x1a7af2(0x1fb)](_0x1a7af2(0x284)),_0x32f4ef=_0x54577d[_0x1a7af2(0x20f)](_0x5c1c3c['target'])||_0x4ed508[_0x1a7af2(0x20f)](_0x5c1c3c['target']),_0x4397f0=_0x228cb4['contains'](_0x5c1c3c[_0x1a7af2(0x23e)])||_0x479a62[_0x1a7af2(0x20f)](_0x5c1c3c[_0x1a7af2(0x23e)]);!_0x32f4ef&&(_0x54577d[_0x1a7af2(0x228)][_0x1a7af2(0x28e)]=_0x1a7af2(0x2d2)),!_0x4397f0&&(_0x228cb4[_0x1a7af2(0x228)]['display']=_0x1a7af2(0x2d2));});function showReportModal(){const _0x56f28a=_0x1a94c3;document[_0x56f28a(0x1fb)](_0x56f28a(0x2b6))[_0x56f28a(0x204)][_0x56f28a(0x2bf)](_0x56f28a(0x2c9));}function closeReportModal(){const _0x54aa65=_0x1a94c3;document['getElementById'](_0x54aa65(0x2b6))[_0x54aa65(0x204)][_0x54aa65(0x22e)](_0x54aa65(0x2c9));}function generateStatusReport(){const _0x31186f=_0x1a94c3;console[_0x31186f(0x2ba)](_0x31186f(0x2dc));const _0x574a89=window['latestOrderData'];if(!_0x574a89||!_0x574a89[_0x31186f(0x231)]){alert(_0x31186f(0x259));return;}const _0x2a6ae2=new Date();let _0x157c68=0x0,_0x48b775=0x0,_0x5d5522=0x0,_0xb1d95e=0x0,_0x10b863=[],_0x5710a7=[],_0x4cf769=[],_0x4b1042=[];const _0x21ba03=_0x3d1f85=>{const _0x14cb2d=_0x31186f,_0x59291f=new Date(_0x3d1f85);return _0x3d1f85&&!isNaN(_0x59291f)?_0x59291f[_0x14cb2d(0x2c3)]('en-US',{'year':_0x14cb2d(0x281),'month':_0x14cb2d(0x270),'day':_0x14cb2d(0x281)}):'—';};_0x574a89['forEach'](_0xdee8c6=>{const _0x554f77=_0x31186f,_0x4f1152=_0xdee8c6[_0x554f77(0x261)],_0x1b0ee2=_0x4f1152[_0x554f77(0x2d0)],_0x3773a2=_0x4f1152[_0x554f77(0x1ff)],_0x4486bb=_0x4f1152['Tentative\x20Delivery\x20Date'],_0x36dabf=_0x1b0ee2?new Date(_0x1b0ee2):null,_0x28d8f0=_0x3773a2?new Date(_0x3773a2):null,_0x45713e=_0x4486bb?new Date(_0x4486bb):null;if(!_0x45713e)return;const _0x549f89={'orderNo':_0x4f1152[_0x554f77(0x20b)]||_0x554f77(0x209),'supplier':_0x4f1152[_0x554f77(0x2a2)]||'—','deliveryDate':_0x21ba03(_0x1b0ee2),'approvedDate':_0x21ba03(_0x3773a2),'tentativeDate':_0x21ba03(_0x4486bb)};if(_0x36dabf&&_0x28d8f0&&_0x36dabf<_0x28d8f0){_0x5d5522++,_0x4cf769[_0x554f77(0x2c7)]({..._0x549f89,'remarks':_0x554f77(0x26e)});return;}if(_0x36dabf&&_0x36dabf<=_0x45713e){_0x157c68++,_0x10b863[_0x554f77(0x2c7)]({..._0x549f89,'remarks':_0x554f77(0x287)});return;}if(_0x36dabf&&_0x36dabf>_0x45713e)_0x48b775++,_0x5710a7['push']({..._0x549f89,'remarks':_0x554f77(0x29a)});else!_0x36dabf&&_0x2a6ae2>_0x45713e&&(_0xb1d95e++,_0x4b1042['push']({..._0x549f89,'remarks':_0x554f77(0x25e)}));}),window[_0x31186f(0x295)]=_0x10b863,window['delayedOrders']=_0x5710a7,window['invalidOrders']=_0x4cf769,window[_0x31186f(0x2c4)]=_0x4b1042,renderSupplierStatusChart(),document['getElementById'](_0x31186f(0x232))[_0x31186f(0x218)]=_0x157c68,document['getElementById'](_0x31186f(0x216))[_0x31186f(0x218)]=_0x48b775,document[_0x31186f(0x1fb)](_0x31186f(0x286))['textContent']=_0x5d5522,document['getElementById'](_0x31186f(0x2bd))[_0x31186f(0x218)]=_0xb1d95e,renderStatusTable('Delayed',_0x5710a7),auth[_0x31186f(0x288)](_0x430b2e=>{const _0x20b167=_0x31186f;if(!_0x430b2e)return;const _0x32a558={'timestamp':Date[_0x20b167(0x29d)](),'onTimeOrders':window[_0x20b167(0x295)],'delayedOrders':window['delayedOrders'],'invalidOrders':window[_0x20b167(0x233)],'inProgressOrders':window[_0x20b167(0x2c4)]};saveReportsToFirestore(_0x430b2e['uid'],_0x32a558);});}async function saveReportsToFirestore(_0x589415,_0x5f1281){const _0x3fcdb8=_0x1a94c3,_0x1c4554=db['collection'](_0x3fcdb8(0x21f))[_0x3fcdb8(0x2b1)](_0x589415)[_0x3fcdb8(0x24c)]('statusReports')[_0x3fcdb8(0x2b1)](_0x3fcdb8(0x1f8));try{const _0x307647=await _0x1c4554[_0x3fcdb8(0x276)](),_0x197a79=_0x307647[_0x3fcdb8(0x203)]?_0x307647[_0x3fcdb8(0x24b)]():null,_0x8ce836=!_0x197a79||JSON['stringify'](_0x197a79)!==JSON[_0x3fcdb8(0x247)](_0x5f1281);_0x8ce836?(await _0x1c4554[_0x3fcdb8(0x226)](_0x5f1281,{'merge':!![]}),console[_0x3fcdb8(0x2ba)](_0x3fcdb8(0x2d7))):console[_0x3fcdb8(0x2ba)]('ℹ️\x20No\x20changes\x20in\x20report\x20data.\x20Skipped\x20saving.');}catch(_0x3b8e60){console[_0x3fcdb8(0x1f3)](_0x3fcdb8(0x2a8),_0x3b8e60);}}function renderStatusTable(_0x293a54,_0x1ea9e7){const _0x5b38e3=_0x1a94c3,_0x1bd918=document[_0x5b38e3(0x1fb)](_0x5b38e3(0x217));_0x1bd918[_0x5b38e3(0x24e)]='',_0x1ea9e7['length']===0x0?_0x1bd918['innerHTML']='<tr><td\x20colspan=\x226\x22\x20class=\x22text-center\x20text-gray-500\x20py-2\x22>No\x20'+_0x293a54+'\x20orders\x20found.</td></tr>':_0x1ea9e7[_0x5b38e3(0x26f)](_0x5cc78e=>{const _0x525d93=_0x5b38e3,_0x610dda=document[_0x525d93(0x2d5)]('tr');_0x610dda[_0x525d93(0x24e)]=_0x525d93(0x230)+_0x5cc78e[_0x525d93(0x21c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-3\x20py-1\x20border\x22>'+(_0x5cc78e[_0x525d93(0x210)]||'-')+_0x525d93(0x1eb)+_0x5cc78e['deliveryDate']+_0x525d93(0x1eb)+_0x5cc78e[_0x525d93(0x29e)]+_0x525d93(0x1eb)+_0x5cc78e[_0x525d93(0x223)]+_0x525d93(0x22b)+_0x5cc78e[_0x525d93(0x267)]+'</td>\x0a\x20\x20\x20\x20\x20\x20',_0x1bd918[_0x525d93(0x21a)](_0x610dda);}),document[_0x5b38e3(0x1fb)](_0x5b38e3(0x26c))[_0x5b38e3(0x218)]=_0x5b38e3(0x24f)+_0x293a54+_0x5b38e3(0x2b0),showReportModal();}document['getElementById'](_0x1a94c3(0x232))[_0x1a94c3(0x283)](_0x1a94c3(0x1ea),()=>{renderStatusTable('On\x20Time',window['onTimeOrders']);}),document[_0x1a94c3(0x1fb)](_0x1a94c3(0x216))[_0x1a94c3(0x283)](_0x1a94c3(0x1ea),()=>{const _0x2df92e=_0x1a94c3;renderStatusTable(_0x2df92e(0x29a),window[_0x2df92e(0x2ad)]);}),document[_0x1a94c3(0x1fb)](_0x1a94c3(0x286))[_0x1a94c3(0x283)](_0x1a94c3(0x1ea),()=>{renderStatusTable('Invalid',window['invalidOrders']);}),document[_0x1a94c3(0x1fb)]('inProgressCount')['addEventListener'](_0x1a94c3(0x1ea),()=>{const _0x440b42=_0x1a94c3;renderStatusTable(_0x440b42(0x1fa),window[_0x440b42(0x2c4)]);}),document[_0x1a94c3(0x239)](_0x1a94c3(0x1fd))[_0x1a94c3(0x26f)](_0x1248df=>{const _0xb53d39=_0x1a94c3;_0x1248df[_0xb53d39(0x283)]('click',()=>{const _0x3339fc=_0xb53d39,_0xa2aa29=_0x1248df['getAttribute']('data-status');document[_0x3339fc(0x239)](_0x3339fc(0x1fd))['forEach'](_0x77a6e0=>{const _0x2414b3=_0x3339fc;_0x77a6e0[_0x2414b3(0x204)][_0x2414b3(0x2bf)](_0x2414b3(0x2b2),_0x2414b3(0x20c),'ring',_0x2414b3(0x27e));}),_0x1248df[_0x3339fc(0x204)][_0x3339fc(0x22e)](_0x3339fc(0x2b2),_0x3339fc(0x20c),_0x3339fc(0x215),'ring-offset-2');switch(_0xa2aa29){case _0x3339fc(0x287):renderStatusTable(_0x3339fc(0x287),window[_0x3339fc(0x295)]);break;case _0x3339fc(0x29a):renderStatusTable(_0x3339fc(0x29a),window[_0x3339fc(0x2ad)]);break;case _0x3339fc(0x222):renderStatusTable('Invalid',window['invalidOrders']);break;case _0x3339fc(0x1fa):renderStatusTable('In\x20Progress',window['inProgressOrders']);break;default:break;}});}),document[_0x1a94c3(0x283)]('DOMContentLoaded',()=>{const _0x4158ce=_0x1a94c3,_0x4c4112=document[_0x4158ce(0x1fb)]('reportLink');_0x4c4112?_0x4c4112['addEventListener'](_0x4158ce(0x1ea),_0x544090=>{const _0xc21b6d=_0x4158ce;_0x544090[_0xc21b6d(0x237)](),generateStatusReport();}):console[_0x4158ce(0x1f3)](_0x4158ce(0x238));});function logout(){const _0x1594eb=_0x1a94c3;auth[_0x1594eb(0x273)]()[_0x1594eb(0x211)](()=>{const _0x47e9ad=_0x1594eb;window[_0x47e9ad(0x280)][_0x47e9ad(0x1f2)]='Loginindex.html';});}
</script>


</body>
</html>
